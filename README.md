# Canteen-Management-Database-System

Case Study : Delish Enterprise Canteen Management Database System

**Database System Requirements**

Delish is a medium-sized enterprise that operates two canteens on site for 24 hours a day. Both canteens serve the employees daily, about more than 200 people. One of the canteens is a halal canteen and the other one is a non-halal canteen. Each canteen has a set of stalls and individual storage. Currently, the canteens are storing all data in a manual way. For managers, it is difficult for them to view the orders, cash transaction of customers and stock availability. Therefore, the canteens need a new database system to improve the existing record-keeping system.
Delish hires a special group of staff to manage the canteens (e.g., stall operator, cashier, cook, cleaner). Each canteen is assigned a unique identifier, name and location. Each employee is assigned to work at one canteen. When a new staff joins a canteen, the staff number, first name, last name, main contact phone number, email, hourly salary rate, title and hire date should be kept. Delish maintains a set of position title names with job descriptions. A position title will be assigned to a staff upon hire. For computation of the staff salary at the end of the month, the daily work record of each staff needs to be stored. A work record contains a serial number, staff information, clock-in date and time, clock-out date and time, number of minutes worked and work status (incomplete, complete or exception). When the staff clocks in at the beginning of a work day, the work status will be automatically assigned the status “incomplete”. The status is automatically updated to “complete” when the staff clocks out after 300 minutes (5 hours) of work. If the staff clocks out after less than 300 minutes, the work status is updated as “exception”.
A canteen consists of a set of stalls selling different cuisines. To maximize the variety of food and beverage items being sold at the canteens, each stall operates only at one canteen. Each stall has a unique identifier, business start hour, business end hour, lot number and cuisine type. Each stall offers a menu listing showing food and beverage items sold. Each menu item has a unique identifier, name, selling price and calories per serving. The selling price of a menu item is updated from time to time. It is also important to keep track of the ingredients used to prepare the menu item. Ingredient details to be stored include the name and type (e.g., egg, milk, meat, vegetable, etc.). An ingredient may be used in preparation of different menu items. A menu item usually require more than one ingredient. The quantity and unit of measurement for each ingredient in a menu item should be stored.     
Customers at the canteens consist of employees working at Delish. Each customer is given a canteen customer account. Customers will need to add credit into their canteen account before they can purchase food and beverage items from the canteen. The canteen management system should keep track of a customer unique identifier, first name, last name, phone number, company email and balance. Customers can purchase top-up credits as many times as they like at any of the canteen cashiers to add funds to their balance. Each top-up transaction contains a serial number, top-up amount, date, time, payment method (cash, credit card, debit card, online banking or e-wallet) as well as the customer information.
As long as there is sufficient balance available in the customer’s canteen account, the funds can be used to purchase any food and beverage items from the canteens. A customer can place many orders. Each order generated should contain an order number, date, time and total price. An order should also list the itemized menu items together with the quantity, unit price and line price. An order can only be paid by one customer.
To ensure sufficient supply of ingredients to all stalls, each canteen manages a few store rooms to keep track of stocks (e.g., flour, salt, sugar, eggs, etc.). Stock details to be stored include a unique identifier, name, type, quantity available and supplier details. A supplier may supply many different stock items. A stock item is supplied by only one supplier. A supplier can be located from the system using a unique identifier, contact person name, contact phone number and company name. Each store room has a unique identifier, room name, which canteen it belongs to, location, size and temperature condition (room temperature or chilled). Each store room is organized into shelves. Each shelf is assigned a shelf index number, column and row. For easy retrieval, each shelf is dedicated for one stock item. A stock item may be stored in multiple shelves.



**Additional Requirements**

The menu offers many types of cuisine such as Indian, Chinese, Western, Japanese and many others. For Indian cuisine, two additional details need to be displayed on the menu: 1) spice level and 2) vegetarian or non-vegetarian. Western cuisine comes with a meat option and at least one side (fries, coleslaw, salad, mashed potato or butter corn). Therefore, the meat weight in ounces (oz.) and the sides included in the menu item should also be stored. Each menu item is only classified into one cuisine type. Menu items other than Indian and Western cuisines have no additional details.  

**SQL Query**

For each menu item, list the menu item name, total quantity of items sold and total menu item sales for non-popular menu items (total sales for a menu item below RM 500). Include only the customer orders from 01-JAN-2020 to 31-DEC-2020. Sort records by menu item name in descending order.
